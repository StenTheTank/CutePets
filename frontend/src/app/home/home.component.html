<div class="row">
  <div class="col-4 text-center">
    <h4 class="fw-bold">Welcome, {{username}}!</h4>
  </div>
  <div class="col-6 text-center">
    <h4 class="fw-bold">Here are your pets</h4>
  </div>
</div>
  <table matSort (matSortChange)="sortData($event)" class="table table-striped table-hover table-bordered table-light text-center">
    <thead class="thead">
    <tr>
      <th scope="col">Picture</th>
      <th mat-sort-header="name" scope="col">Name</th>
      <th mat-sort-header="code" scope="col">Code</th>
      <th mat-sort-header="color" scope="col">Fur Color</th>
      <th mat-sort-header="type" scope="col">Type</th>
      <th mat-sort-header="country" scope="col">Country</th>
      <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let pet of pets">
      <td class="align-middle">
        <img [src]="pet.imageUrl" alt="Pet image" width="80px" height="80px">
      </td>
      <td class="align-middle fw-bolder">
        {{ pet.name }}
      </td>
      <td class="align-middle fw-bolder">{{ pet.id }}</td>
      <td class="align-middle fw-bolder">{{ pet.furColor }}</td>
      <td class="align-middle fw-bolder">{{ pet.petType }}</td>
      <td class="align-middle fw-bolder">{{ pet.country }}</td>
      <td class="align-middle fw-bolder">
        <button class="btn btn-primary" (click)="editPet(pet)">Edit</button>
        <button class="btn btn-danger" (click)="deletePet(pet)">Delete</button>
      </td>
    </tr>
    </tbody>
  </table>
<div class="row">
<button type="button" class="btn btn-success btn-lg btn-block" (click)="toggleAddPetForm()">Add Pet</button>
</div>
<div class="popover fw-bold"
     *ngIf="showAddPetForm">
    <div class="row">
      <div class="col-10 text-center">
        <h2>Add Pet</h2>
      </div>
      <div class="col-1 float-end">
        <button type="button" class="btn-close" aria-label="Close" (click)="toggleAddPetForm()"></button>
      </div>
    </div>
  <div class="popover-body">
      <form (submit)="addPet(newPet)" #addPetForm="ngForm" ngNativeValidate>
        <div class="row">
          <div class="col-4">
            <label for="name">Name:</label>
          </div>
          <div class="col-8">
            <input type="text" id="name" name="name"style="width: 120px; border-radius: 4px" [(ngModel)]="newPet.name" required #name="ngModel">
            <div class="invalid-feedback" *ngIf="name.invalid">
              A pet needs a name
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-4">
            <label for="type">Type:</label>
          </div>
          <div class="col-8">
            <select id="type" name="type" class="form-select" [(ngModel)]="newPet.petType" required>
              <option value="Cat">Cat</option>
              <option value="Dog">Dog</option>
              <option value="Horse">Horse</option>
              <option value="Rabbit">Rabbit</option>
              <option value="Parrot">Parrot</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="col-4">
            <label for="furColor">Fur Color:</label>
          </div>
          <div class="col-8">
            <select id="furColor" name="furColor" class="form-select" [(ngModel)]="newPet.furColor" required>
              <option value="Black">Black</option>
              <option value="White">White</option>
              <option value="Brown">Brown</option>
              <option value="Yellow">Yellow</option>
              <option value="Blue">Blue</option>
            </select>
          </div>
        </div>
        <div class="row">
          <div class="col-4">
            <label for="country">Country:</label>
          </div>
          <div class="col-8">
            <select id="country" name="country" class="form-select" [(ngModel)]="newPet.country"required>
              <option value="Estonia">Estonia</option>
              <option value="Latvia">Latvia</option>
              <option value="Lithuania">Lithuania</option>
              <option value="Finland">Finland</option>
              <option value="Sweden">Sweden</option>
              <option value="Norway">Norway</option>
            </select>
          </div>
        </div>
        <button class="btn btn-success w-100 align-bottom" type="submit">Save</button>
      </form>
  </div>
</div>
